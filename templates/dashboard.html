<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>
</head>
<body>
<h2>Hello, {{ session['username'] }}</h2>

<h3>Add Expense</h3>
<form method="POST">
    <input type="number" step="0.01" name="amount" placeholder="Amount" required>
    <input type="text" name="description" placeholder="Description" required>
    <button type="submit">Add Expense</button>
</form>

<h3>Your Expenses</h3>
<table border="1">
    <tr>
        <th>Amount</th>
        <th>Description</th>
    </tr>
    {% for exp in expenses %}
    <tr>
        <td>{{ exp.amount }}</td>
        <td>{{ exp.description }}</td>
    </tr>
    {% endfor %}
</table>

<h3>Total Expenses: {{ total }}</h3>

<a href="{{ url_for('logout') }}">Logout</a>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, msg in messages %}
      <p>{{ msg }}</p>
    {% endfor %}
  {% endif %}
{% endwith %}
</body>
</html>
